{% from "macros.html" import render_movie_card with context %}
{% extends "index.html" %}
{% block content %}

{% if recommended_movies|length > 0 %}
<div class="bg-info mb-2 p-3 rounded">
    <h2 class="mb-2 text-light">
        Movies you may like
    </h2>
    <div class="card-columns">
        {{ render_movie_card(recommended_movies) }}
    </div>
</div>
{% endif %}

{% if extra_recommened_movies|length > 0 %}
<div class="bg-secondary mb-2 p-3 rounded">
    <h2 class="mb-2 text-light">
        Because you looked at {{ movie_name }}
    </h2>
    <div class="card-columns">
        {{ render_movie_card(extra_recommened_movies) }}
    </div>
</div>
{% endif %}

<div class="bg-dark mb-2 p-3 rounded">
    <h2 class="mb-2 text-light">
        Movies Available
    </h2>
    <div class="card-columns">
        {{ render_movie_card(all_movies) }}
    </div>
    <div class="d-flex justify-content-center">
        <nav aria-label="pagination">
          <ul class="pagination">
              {% set next_page = page + 1 %}
              {% set prev_page = page - 1 %}
            <li class="page-item {% if prev_page < 1 %}disabled{% endif %}"><a class="page-link" href="{{ url_for('get_movies', page=prev_page) }}">Previous</a></li>
            <li class="page-item"><a class="page-link">{{ page }}</a></li>
            <li class="page-item {% if all_movies|length < 10 %}disabled{% endif %}"><a class="page-link" href="{{ url_for('get_movies', page=next_page) }}">Next</a></li>
          </ul>
        </nav>
    </div>
</div>
{% endblock %}

